{"version":3,"file":"mpulse.min.js","sources":["../src/mpulse.js"],"names":["window","fetchUrl","url","callback","xhrFn","XDomainRequest","xhrFnOnload","XMLHttpRequest","require","ActiveXObject","xhr","onload","responseText","onreadystatechange","readyState","open","send","generateSessionID","replace","c","r","Math","random","v","toString","createApp","key","options","ensureUrlPrefix","indexOf","forceSSL","location","protocol","getConfigUrl","configUrl","apiKey","getBeaconUrl","configJson","beacon_url","parseConfig","data","newConfigJson","JSON","parse","configkey","hasOwnProperty","e","initialized","sessionID","startSession","metricDefs","timerDefs","dimensionDefs","PageParams","cms","customMetrics","cts","customTimers","cds","customDimensions","i","length","m","name","label","t","d","configJsonRefresh","setTimeout","fetchConfig","REFRESH_CRUMB_INTERVAL","setImm","processQueue","getCurrentDimensions","copy","dimName","dimensions","addToQueue","type","value","beaconQueue","push","group","calledFromTimer","processQueueWaiting","PROCESS_QUEUE_WAIT","q","shift","val","sendBeacon","params","sessionLength","sessionStart","fireEvent","paramsArray","encodeURIComponent","undefined","baseUrl","join","startTimer","latestTimerId","timers","time","now","stopTimer","id","timer","deltaMs","round","sendTimer","sendMetric","setViewGroup","resetViewGroup","setDimension","resetDimension","setSessionID","getSessionID","setSessionLength","incrementSessionLength","getSessionLength","subscribe","eventName","subscribers","payload","EVENTS","exports","noConflict","root","mPulse","previousObj","init","apps","app","defaultApp","APP_FUNCTIONS","fnName","getApp","nop","stop","MPULSE_VERSION","nowOffset","Date","process","nextTick","bind","setImmediate","msSetImmediate","webkitSetImmediate","mozSetImmediate","fn","performance","methods","timing","navigationStart","version","define","amd","module"],"mappings":"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"}