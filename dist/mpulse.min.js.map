{"version":3,"file":"mpulse.min.js","sources":["../src/mpulse.js"],"names":["window","fetchUrl","url","callback","xhrFn","XMLHttpRequest","require","ActiveXObject","xhr","onreadystatechange","readyState","responseText","open","send","setImm","fn","process","nextTick","setImmediate","msSetImmediate","webkitSetImmediate","mozSetImmediate","setTimeout","createApp","key","options","ensureUrlPrefix","indexOf","forceSSL","location","protocol","getConfigUrl","configUrl","apiKey","getBeaconUrl","configJson","beacon_url","parseConfig","data","newConfigJson","JSON","parse","configkey","hasOwnProperty","e","initialized","metricDefs","timerDefs","dimensionDefs","PageParams","cms","customMetrics","cts","customTimers","cds","customDimensions","i","length","m","name","label","t","d","configJsonRefresh","fetchConfig","bind","this","REFRESH_CRUMB_INTERVAL","processQueue","getCurrentDimensions","copy","dimName","dimensions","addToQueue","type","value","beaconQueue","push","group","q","shift","val","sendBeacon","currentSessionId","overriddenSessionId","params","sessionLength","sessionStart","paramsArray","encodeURIComponent","undefined","baseUrl","join","startTimer","latestTimerId","timers","time","now","stopTimer","id","timer","sendTimer","sendMetric","setViewGroup","resetViewGroup","setDimension","resetDimension","setSessionID","getSessionID","exports","noConflict","root","mPulse","previousObj","init","app","defaultApp","apps","nop","MPULSE_VERSION","APP_FUNCTIONS","nowOffset","Date","performance","methods","timing","navigationStart","version","define","amd","module"],"mappings":"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"}